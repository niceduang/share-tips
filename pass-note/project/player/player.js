!function(a){function b(a){function f(a){if(a){var c="http://isure.stream.qqmusic.qq.com/C100"+a+".m4a?fromtag=38";b&&b.src==c?h():e?(b&&"function"==typeof b.pause&&(b.pause(),document.body.removeChild(b)),setTimeout(function(){var a=document.createElement("audio");k(a),a.setAttribute("style","height:0;width:0;display:none"),a.setAttribute("autoplay",""),a.src=c,document.body.appendChild(a),a.load(),b=a},50)):(b.src=c,b.play())}}function g(){b&&"function"==typeof b.pause&&b.pause()}function h(){b&&(b.ended||b.paused?(b.ended&&(b.currentTime=0),b.play()):b.pause())}function i(a){if("object"==typeof b)try{b.currentTime=a}catch(c){console.log("set audio currentTime error : "+c)}}function j(a,b){for(var c in b)a[c]=b[c];return a}function k(a){d.needVioceMutex&&_vioceMutexList.push(a),a.addEventListener("play",function(a){try{l()}catch(a){}"function"==typeof d.play&&d.play(a)},!1),a.addEventListener("ended",function(a){"function"==typeof d.ended&&d.ended(a)},!1),a.addEventListener("pause",function(a){"function"==typeof d.pause&&d.pause(a)},!1),a.addEventListener("timeupdate",function(a){"function"==typeof d.timeupdate&&d.timeupdate(a)},!1)}function l(){var a,c,e;if(d.needVioceMutex)for(a=0,c=_vioceMutexList.length;c>a;a++)e=_vioceMutexList[a],e&&e!=b&&"function"==typeof e.pause&&e.pause()}function m(a){if(c)return"object"==typeof a&&(d=j(d,a)),void 0;d=j(d,a),c=!0;var f=document.createElement("audio");b=f,k(f),f.setAttribute("style","height:0;width:0;display:none"),f.setAttribute("autoplay",""),document.body.appendChild(f),e&&window.addEventListener("canplay",function(a){a.target&&"function"==typeof a.target.play&&a.target.play()},!0)}var b=null,c=!1,d={needVioceMutex:!0},e=!1;return/android\s2\.3/i.test(navigator.userAgent)&&(e=!0),"undefined"==typeof window._vioceMutexList&&(window._vioceMutexList=[]),"object"==typeof a?m(a):m({}),{play:f,pause:g,toggle:h,setPlayTime:i,init:m}}"function"==typeof define?define("QQMusicPlayer",[],function(){return b}):a.QQMusicPlayer=b}(window);
