<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>可视区</title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		.box{width: 500px;margin: 0 auto;}
		.items{height: 500px;border: 1px solid #000;}
		.cur{background-color: #f00;}
		.fixed{position: fixed;right: 30px;top: 200px;width: 30px;}
		.fixed span{display: block;width: 30px;height: 30px;margin: 0 auto;box-sizing: border-box;border: 1px solid #000;}
	</style>
</head>
<body>
	<div class="box">
		<div class="items">01</div>
		<div class="items">02</div>
		<div class="items">03</div>
		<div class="items">04</div>
		<div class="items">05</div>
		<div class="items">06</div>
		<div class="items">07</div>
		<div class="items">08</div>
		<div class="items">09</div>
		<div class="items">10</div>
	</div>
	<div class="fixed">
		<span>1</span>
		<span>2</span>
		<span>3</span>
		<span>4</span>
		<span>5</span>
		<span>6</span>
		<span>7</span>
		<span>8</span>
		<span>9</span>
		<span>10</span>
	</div>
	<script src="http://ossweb-img.qq.com/images/js/jquery/jquery-1.11.3.min.js"></script>
	<script type="text/javascript">
		// 方案1：
		/**
		 * 什么时候到达导航指向：
		 * window.scrollTop>e.offsetTop
		 */
		/*var $window = $(window);
		var screenHeight = $window.height();
		var st = $window.scrollTop();
		$window.on('scroll',function(){
			st = $(this).scrollTop();
			checkCur(st);
		});
		checkCur(st);
		function checkCur(st){
			$('.items').each(function(){
				var $this = $(this);
				var offsetTop = $this.offset().top;
				var height = $this.height();
				var _index = $this.index();
				if (st>=offsetTop) {
					$('.fixed span').eq(_index).addClass('cur').siblings('span').removeClass('cur');
				}
			});
		}*/
		// 方案2：
		var $window = $(window);
		var screenHeight = $window.height();
		var st = $window.scrollTop();
		$window.on('scroll',function(){
			st = $(this).scrollTop();
			checkCur(st);
		});
		checkCur(st);
		function checkCur(st){
			$('.items').each(function(){
				var $this = $(this);
				var offsetTop = $this.offset().top;
				var height = $this.height();
				var _index = $this.index();
				if (st>=offsetTop&&st<(offsetTop+height)) {
					$('.fixed span').eq(_index).addClass('cur');
				}else{
					$('.fixed span').eq(_index).removeClass('cur');
				}
			});
		}
	</script>
</body>
</html>