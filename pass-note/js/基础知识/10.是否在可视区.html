<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>可视区</title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		.box{width: 500px;margin: 0 auto;}
		.items{height: 500px;border: 1px solid #000;}
		.cur{background-color: #f00;}
	</style>
</head>
<body>
	<div class="box">
		<div class="items">01</div>
		<div class="items">02</div>
		<div class="items">03</div>
		<div class="items">04</div>
		<div class="items">05</div>
		<div class="items">06</div>
		<div class="items">07</div>
		<div class="items">08</div>
		<div class="items">09</div>
		<div class="items">10</div>
	</div>
	<script src="http://ossweb-img.qq.com/images/js/jquery/jquery-1.11.3.min.js"></script>
	<script type="text/javascript">
		/**
		 * 什么时候在可视区：
		 * window.scrollTop>e.offsetTop-screenHeight&&window.scrollTop<e.offsetTop+e.height
		 * 1. 第一种情况，向上滚动(元素跑到可视区以上即为看不到了)
		 * 2. 另一种情况，向下滚动(元素跑到可视区以下也为看不到了)
		 */
		var $window = $(window);
		var screenHeight = $window.height();
		var st = $window.scrollTop();
		$window.on('scroll',function(){
			st = $(this).scrollTop();
			checkCur(st);
		});
		checkCur(st);
		function checkCur(st){
			$('.items').each(function(){
				var $this = $(this);
				var offsetTop = $this.offset().top;
				var height = $this.height();
				if (st>=(offsetTop-screenHeight)&&st<(offsetTop+height)) {
					$this.addClass('cur');
				}else{
					$this.removeClass('cur');
				}
			});
		}
	</script>
</body>
</html>